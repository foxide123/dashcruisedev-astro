---
import Layout from '@/layouts/MainLayout.astro';
import { enHomeMetadata } from '@/data/dictionaries/en/metadata/enHomeMetadata';
import HomePage from './_shared/HomePage.astro';
import { getStripePrices } from '@/actions/stripeActions';
import { translations } from '@/utils/translationUtils';

const homeData = await translations['en']['home_page.json']();
const commonData = await translations['en']['common.json']();

const { data, error } = await getStripePrices();

console.log('Data on home page:', data);

let prices = null;
if(!error){
  prices = data;
}

export const prerender = true;

---
<Layout metadata={enHomeMetadata}>
  <HomePage prices={prices} homeData={homeData}  commonData={commonData} locale='en'}/>
</Layout>
