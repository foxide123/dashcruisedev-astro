---
import { getRelativeLocaleUrl } from 'astro:i18n';
import Layout from '@/layouts/MainLayout.astro';
import { Image } from 'astro:assets';
import ExclusivePlan from '@/components/HomePage/ExclusivePlan.astro';
// defaultLocale is "en"
const indexUrl = getRelativeLocaleUrl('en', '');

const { locale } = Astro.params;
import enHomeData from '@/data/dictionaries/en/home.json';
import deHomeData from '@/data/dictionaries/de/home.json';

import enCommonData from '@/data/dictionaries/en/common.json';
import deCommonData from '@/data/dictionaries/de/common.json';
import ComparisonSection from '@/components/HomePage/sections/ComparisonSection.astro';
import HighlightSection from '@/components/HomePage/sections/HighlightSection.astro';
import PortfolioSection from '@/components/HomePage/sections/PortfolioSection.astro';
import ContactSection from '@/components/HomePage/sections/ContactSection.astro';
import PricingSection from '@/components/HomePage/sections/PricingSection.astro';
import QaSection from '@/components/HomePage/sections/QaSection.astro';
import MeetingSection from '@/components/HomePage/sections/MeetingSection.astro';
import { ContainerTextFlipClient } from '@/components/HomePage/ContainerTextFlipClient';
import HeroSection from '@/components/HomePage/sections/HeroSection.astro';

const translations = {
  en: {
    home: enHomeData,
    common: enCommonData,
  },
  de: {
    home: deHomeData,
    common: deCommonData,
  },
};

const homeData = locale === 'en' ? translations.en.home : translations.de.home;
const commonData =
  locale === 'en' ? translations.en.common : translations.de.common;
const heroData = homeData.hero;
const lg_screen_width = 'lg:w-[75vw]';
const default_screen_width = 'lg:w-85vw';

export async function getStaticPaths() {
  return [{ params: { locale: 'en' } }, { params: { locale: 'de' } }];
}
---

<Layout>
  <div class="w-screen flex flex-col justify-center">
    <HeroSection
      heroData={heroData}
      commonData={commonData}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <ComparisonSection
      comparisonData={homeData.comparison}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <HighlightSection
      highlightData={homeData.highlight}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <PortfolioSection
      portfolioData={homeData.portfolio}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <ContactSection
      contactUsData={commonData.contactUs}
      contactFormData={commonData.contactForm}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <PricingSection
      pricingData={homeData.pricing}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <MeetingSection
      meetingData={homeData.meeting}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
    <QaSection
      qaData={homeData.qa}
      lg_screen_width={lg_screen_width}
      default_screen_width={default_screen_width}
    />
  </div>
</Layout>
